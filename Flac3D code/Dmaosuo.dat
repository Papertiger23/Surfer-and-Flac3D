model new
zone create brick point 0 0 0 0 point 1 40 0 0 point 2 0 20 0 point 3 0 0 25 size 200 25 125 group 'SZNY'
;
zone attach by-face
;
zone cmodel assign mohr-coulomb
;
zone property density 2450 bulk 3.6e9 shear 1.8e9 friction 30 cohesion 2e6 	tension 2e6	range group 'SZNY'
;
zone gridpoint fix velocity-x range position-x -0.1 0.1
zone gridpoint fix velocity-x range position-x 39.9 40.1
zone gridpoint fix velocity-y range position-y -0.1 0.1
zone gridpoint fix velocity-y range position-y 19.9 20.1
zone gridpoint fix velocity-x range position-z -0.1 0.1
zone gridpoint fix velocity-y range position-z -0.1 0.1
zone gridpoint fix velocity-z range position-z -0.1 0.1

;
zone gridpoint initialize displacement-x 0
zone gridpoint initialize displacement-y 0
zone gridpoint initialize displacement-z 0
zone gridpoint initialize velocity-x 0
zone gridpoint initialize velocity-y 0
zone gridpoint initialize velocity-z 0
zone initialize state 0

zone cmodel assign null range position-x 17 22.2  position-y 0 20 position-z 7 10


def maosuo1
 local y=5.5
 local m=1
 local n=8
 local p=9
 local q=10
   loop i (1,4)
   command
   structure cable create by-line 17.9 @y 10 17.9 @y 16.2 segments 10 id @i
   structure cable create by-line 20.3 @y 10 20.3 @y 16.2 segments 10 id @i
   structure cable create by-line 21.9 @y 10 21.9 @y 16.2 segments 10 id @i
   endcommand
   y=y+2
   endloop
   loop j(1,12)
   command
   structure cable property young 2e10 yield-tension 1.86e9 cross-sectional-area 1.57e-3 grout-cohesion 10e5 grout-stiffness 1 grout-perimeter 0.0785 range component-id @m @n
   structure cable property young 2e10 yield-tension 1.86e9 cross-sectional-area 1.57e-3 grout-cohesion 10e5 grout-stiffness 1.5e6  range component-id @p @q
   structure cable property young 2e10 yield-tension 1.86e9 cross-sectional-area 0.0004906 grout-cohesion 10e8 grout-stiffness 2e10 range component-id @m @m
   struct    cable apply tension value 300e3 range  component-id @m @q
   endcommand
   m=m+10
   n=n+10
   p=p+10
   q=q+10
   endloop
end
@maosuo1


model large-strain off
model step 2000
;
model save 'duanmaosuo.sav'